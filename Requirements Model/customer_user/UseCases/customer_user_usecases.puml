@startuml customer_user_usecases
allow_mixing

skinparam shadow false
skinparam roundCorner 15
skinparam class {
  BackgroundColor #FEFECE
  BorderColor #A80036
  ArrowColor #A80036
}
skinparam usecase {
  BackgroundColor #FEFECE
  BorderColor #A80036
  ArrowColor #A80036
}

actor "Usuario Cliente" as AnonUser

' ==========================================
' MODELO DE REQUISITOS (UWE) - CASOS DE USO
' ==========================================
' Stereotypes utilizados:
' <<browsing>>   : Casos de uso de navegación (visualización de información).
' <<processing>> : Casos de uso de proceso (lógica de negocio o cambio de estado).

' ------------------------------------------
' 1. GESTIÃ“N DE UBICACIÃ“N
' ------------------------------------------
usecase "Selección de Ubicación" as SelectLocation <<processing>>


' ------------------------------------------
' 3. NAVEGACIÃ“N Y BÃšSQUEDA DE PRODUCTOS
' ------------------------------------------
usecase "Listar Productos Más Vendidos" as ViewMostSold <<browsing>>
usecase "Buscar Producto" as SearchProduct <<browsing>>
usecase "Listar Productos de Interés" as InterestProduct <<browsing>>

' ------------------------------------------
' 4. NAVEGACIÃ“N POR TIENDAS
' ------------------------------------------
usecase "Ver Lista Tienda" as ViewStoreList <<browsing>>
usecase "Ver Detalle Tienda" as ViewStoreDetail <<browsing>>
usecase "Ver Resumen de Espacios Disponibles" as ViewSpaceList <<browsing>>

' ------------------------------------------
' 5. SUB-CASOS DE USO (REUTILIZABLES)
' ------------------------------------------
usecase "Ver Lista Producto" as ViewProductList <<browsing>>
usecase "Ver Detalle Producto" as ViewProductDetail <<browsing>>
usecase "Guardar Producto Interes" as SaveInterestProduct <<processing>>
usecase "Eliminar Producto Interes" as DeleteInterestProduct <<processing>>


' ==========================================
' RELACIONES ENTRE ACTORES Y CASOS DE USO
' ==========================================

' 1. Ubicación
AnonUser --> SelectLocation

' 3. Productos de Interés
' Flujo: Ver Lista -> Ver Detalle (Include) -> Eliminar (Extend)
AnonUser --> InterestProduct
InterestProduct ..> ViewProductDetail : <<include>>

' 4. Productos Más Vendidos
' Flujo: Ver Lista -> Ver Detalle (Include) -> Guardar/Eliminar Interés (Extend)
AnonUser --> ViewMostSold
ViewMostSold ..> ViewProductDetail : <<include>>
ViewProductList ..> ViewProductDetail : <<include>>
SaveInterestProduct .> ViewProductDetail : <<extends>>
DeleteInterestProduct .> ViewProductDetail : <<extends>>


' 5. Búsqueda de Productos
' Flujo: Buscar -> Ver Lista (Include) -> ...
AnonUser --> SearchProduct
SearchProduct ..> ViewProductList : <<include>>


' 6. Tiendas
' Flujo: Ver Lista Tiendas -> Ver Detalle Tienda (Include) -> Ver Productos/Espacios (Include)
AnonUser --> ViewStoreList
ViewStoreList ..> ViewStoreDetail : <<include>>

' Detalle tienda incluye opciones de navegación adicionales
ViewStoreDetail ..> ViewSpaceList : <<include>>
ViewStoreDetail ..> ViewProductList : <<include>>

@enduml

