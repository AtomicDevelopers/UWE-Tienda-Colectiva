@startuml customer_user_process_model
allow_mixing

skinparam shadow false
skinparam packageStyle rectangle
skinparam roundCorner 15
skinparam class {
  BackgroundColor #FEFECE
  BorderColor #A80036
  ArrowColor #A80036
}

' ==========================================
' MODELO DE PROCESO (UWE) - ESTRUCTURA
' ==========================================
' Este diagrama describe la estructura estática de los procesos, incluyendo 
' clases de entrada de datos, validación y ventanas de confirmación.

package "Procesamiento de Usuario Cliente" {

  ' --- Clases Base ---
  package "Base" {
    class "Confirmacion" as Confirmation <<processClass>> {
      - pregunta : String
    }
    

    ' Una clase base abstracta para el procesamiento común
    class "ProcesamientoCliente" as CustomerProcessing <<processClass>> {
      ' Lógica común
    }
  }


  
  
  ' ==========================================
  ' 3. PROCESAMIENTO DE INTERESES
  ' ==========================================
  package "Gestión de Intereses" {
    ' Guardar Interés
    class "DatosEntradaInteres" as InterestInput <<processClass>> {
      - productoId : UUID
      - fecha : DateTime
    }
    
    class "ProcesoGuardarInteres" as SaveInterestProcess <<processClass>>
    class "ConfirmacionGuardado" as SaveConfirm <<processClass>>

    SaveInterestProcess -up-|> CustomerProcessing
    SaveInterestProcess *-- InterestInput
    SaveInterestProcess ..> SaveConfirm : result

    ' Eliminar Interés
    class "EliminarInteres" as InterestDelete <<processClass>>
    class "ConfirmacionEliminacion" as DeleteConfirm <<processClass>>
    
    InterestDelete ..> DeleteConfirm : result
    DeleteConfirm -up-|> Confirmation
  }


  ' ==========================================
  ' 4. GESTIÃ“N DE UBICACIÃ“N
  ' ==========================================
  package "Gestión de Ubicación" {
    class "DatosEntradaUbicacion" as LocationInput <<processClass>> {
      - direccion : String
      - coordenadas : String
      - validarUbicacion()
    }

    class "ProcesoUbicacion" as LocationProcess <<processClass>>
    class "ConfirmacionUbicacion" as LocationConfirm <<processClass>>

    LocationProcess -up-|> CustomerProcessing
    LocationProcess *-- LocationInput
    LocationProcess ..> LocationConfirm : result
  }


}

@enduml


