@startuml customer_user_actions_process_model
allow_mixing

skinparam shadow false
skinparam packageStyle rectangle
skinparam roundCorner 15
skinparam class {
  BackgroundColor #FEFECE
  BorderColor #A80036
  ArrowColor #A80036
}

' ==========================================
' MODELO DE PROCESO (UWE) - ACCIONES
' ==========================================
' Este diagrama describe la estructura de los procesos de 
' negocio y acciones (Ubicación, Gestión de Intereses).

package "Procesamiento de Acciones - Usuario Cliente" {

  ' --- Clases Base ---
  package "Base" {
    class "Confirmación" as Confirmation <<processClass>> {
      - pregunta : String
    }
    
    class "Error Validación" as ValidationError <<processClass>> {
      - mensaje : String
    }

    class "Procesamiento Cliente" as CustomerProcessing <<processClass>>
  }
  
  ' ==========================================
  ' 1. GESTIÃ“N DE UBICACIÃ“N
  ' ==========================================
  package "Gestión de Ubicación" {
    class "Datos Entrada Ubicacion" as LocationInput <<processClass>> {
      - direccion : String
      - coordenadas : String
      - validarUbicacion()
    }

    class "Proceso Ubicacion" as LocationProcess <<processClass>>
    class "Confirmacion Ubicacion" as LocationConfirm <<processClass>>

    LocationProcess -up-|> CustomerProcessing
    LocationProcess *-- LocationInput
    LocationInput *-- ValidationError
    LocationProcess ..> LocationConfirm : result
  }

  ' ==========================================
  ' 2. PROCESAMIENTO DE INTERESES
  ' ==========================================
  package "Gestión de Intereses" {
    ' Guardar Interés
    class "Datos Entrada Interés" as InterestInput <<processClass>> {
      - productoId : UUID
      - fecha : DateTime
    }
    
    class "Proceso Guardar Interés" as SaveInterestProcess <<processClass>>
    class "Confirmación Guardado" as SaveConfirm <<processClass>>

    SaveInterestProcess -up-|> CustomerProcessing
    SaveInterestProcess *-- InterestInput
    SaveInterestProcess ..> SaveConfirm : result

    ' Eliminar Interés
    class "Eliminar Interés" as InterestDelete <<processClass>>
    class "Confirmación Eliminación" as DeleteConfirm <<processClass>>
    
    InterestDelete ..> DeleteConfirm : result
    DeleteConfirm -up-|> Confirmation
  }

}

@enduml


