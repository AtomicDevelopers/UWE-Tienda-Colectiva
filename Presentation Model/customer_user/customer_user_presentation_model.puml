@startuml customer_user_presentation_model
skinparam shadow false
skinparam packageStyle rectangle
skinparam roundCorner 15
skinparam stereotypeCBackgroundColor #FEFECE
skinparam stereotypeIBackgroundColor #FEFECE

skinparam class {
    BackgroundColor White
    BorderColor #A80036
    ArrowColor #A80036
}

skinparam rectangle {
    BackgroundColor #FFFQE0
    BorderColor #A80036
}

' ==========================================
' MODELO DE PRESENTACIÃ“N (UWE) - Customer USER
' ==========================================

package "Presentation Model" {

    ' --- HOME PAGE ---
    rectangle "PaginaInicio" <<presentationPage>> {
        
        rectangle "Encabezado" <<presentationGroup>> {
            class ": Introduccion" <<text>>
        }

        rectangle ": FormularioUbicacion" <<inputForm>> {
            class ": EntradaDireccion" <<textInput>> {
               {autoCompletion}
            }
            class ": BuscarUbicacion" <<button>>
        }

        rectangle ": FormularioBusqueda" <<inputForm>> {
            class ": CriterioBusqueda" <<textInput>>
            class ": BuscarProducto" <<button>>
        }

        rectangle "MenuAcceso" <<presentationGroup>> {
            class ": IniciarSesion" <<anchor>>
            class ": Registrarse" <<anchor>>
        }
    }

    ' --- AUTHENTICATION ---
    rectangle "PaginaLogin" <<presentationPage>> {
        rectangle ": FormularioLogin" <<inputForm>> {
            class ": Correo" <<textInput>> {
                {liveValidation}
            }
            class ": Contrasena" <<textInput>>
            class ": EnviarLogin" <<button>>
        }
        note right of ": FormularioLogin" 
            Mostrar error si falla la validación
        end note
    }

    rectangle "PaginaRegistro" <<presentationPage>> {
        rectangle ": FormularioRegistro" <<inputForm>> {
            class ": Nombre" <<textInput>>
            class ": Correo" <<textInput>> {
                {liveValidation}
            }
            class ": Telefono" <<textInput>>
            class ": Contrasena" <<textInput>>
            class ": EnviarRegistro" <<button>>
        }
    }

    ' --- PRODUCT LISTING ---
    rectangle "PaginaListaProductos" <<presentationPage>> {
        
        rectangle ": ListaProductos" <<presentationGroup>> {
            rectangle ": Producto [*]" <<presentationGroup>> {
                 class ": ImagenProd" <<image>>
                 class ": NombreProd" <<text>>
                 class ": PrecioProd" <<text>>
                 class ": Inspeccionar" <<button>>
            }
        }
        
    }

    ' --- PRODUCT DETAIL ---
    rectangle "PaginaDetalleProducto" <<presentationPage>> {
        
        rectangle ": InfoProducto" <<presentationGroup>> {
             class ": ImagenDetalle" <<image>>
             class ": NombreDetalle" <<text>>
             class ": DescripcionDetalle" <<text>>
             class ": PrecioDetalle" <<text>>
             class ": Disponibilidad" <<text>>
        }

        rectangle ": MenuAcciones" <<presentationGroup>> {
             class ": AgregarInteres" <<button>>
             class ": VolverLista" <<button>>
        }
    }
    
    ' --- SYSTEM MESSAGES ---
    rectangle "MensajesSistema" {
        rectangle "DialogoConfirmacion" <<confirmation>> {
            class ": TextoConfirmacion" <<text>>
            class ": Aceptar" <<button>>
            class ": Cancelar" <<button>>
        }

        rectangle "DialogoError" <<validationError>> {
             class ": TextoError" <<text>>
             class ": Reintentar" <<button>>
        }
    }


    ' --- NAVIGATION FLOWS (Arrows between Pages) ---
    
    ' From Home
    ": BuscarProducto" --> "PaginaListaProductos"
    ": IniciarSesion" --> "PaginaLogin"
    ": Registrarse" --> "PaginaRegistro"
    
    ' From Lists
    ": Inspeccionar" --> "PaginaDetalleProducto"
    
    ' From Details
    ": VolverLista" --> "PaginaListaProductos"
    ": AgregarInteres" ..> "DialogoConfirmacion"
    
    ' From Forms
    ": EnviarLogin" ..> "PaginaInicio" : "Exito"
    ": EnviarLogin" ..> "DialogoError" : "Fallo"
    
    ": EnviarRegistro" ..> "PaginaInicio" : "Exito"
    ": EnviarRegistro" ..> "DialogoError" : "Fallo"
    
}

@enduml


